"use strict";(self.webpackChunkvareniki=self.webpackChunkvareniki||[]).push([[962],{9962:(ht,Q,p)=>{p.d(Q,{u:()=>O,b:()=>ut});var g=p(671),_=p(5412),f=p(4006),t=p(4650),k=p(6895),n=p(4859),F=p(9549),T=p(4144),Y=p(4385),J=p(3238);function w(a,c){if(1&a&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&a){const r=c.$implicit;t.Q6J("value",r),t.xp6(1),t.hij(" ",r," ")}}function B(a,c){if(1&a&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&a){const r=c.$implicit;t.Q6J("value",r),t.xp6(1),t.hij(" ",r," ")}}let N=(()=>{class a{constructor(r,h){this.data=r,this.dialogRef=h,this.title="",this.degrees=[O.HIGHER,O.MIDDLE,O.PRELIMINARY],this.licenseTypes=["A","B","C","D"],this.userForm=new f.cw({inn:new f.NI("",f.kI.required),firstName:new f.NI("",f.kI.required),middleName:new f.NI("",f.kI.required),lastName:new f.NI("",f.kI.required),education:new f.NI("",f.kI.required),experience:new f.NI("",f.kI.required),driversLicence:new f.NI("",f.kI.required)})}ngOnInit(){this.data.creation?this.title="\u0417\u0430\u043d\u0435\u0441\u0442\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0430":(this.title="\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u0434\u0430\u043d\u0456 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0430",this.userForm.controls.inn.disable(),this.userForm.setValue(this.data.user),this.userForm.controls.driversLicence.setValue(this.data.user.driversLicence.split(",")))}submit(){this.dialogRef.close(this.userForm.value)}}return a.\u0275fac=function(r){return new(r||a)(t.Y36(_.WI),t.Y36(_.so))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-user-dialog"]],decls:39,vars:7,consts:[["mat-dialog-title",""],[1,"user-form",3,"formGroup"],["appearance","fill"],["matInput","","formControlName","inn"],["matInput","","formControlName","lastName"],["matInput","","formControlName","firstName"],["matInput","","formControlName","middleName"],["formControlName","education",3,"disableOptionCentering"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","experience"],["formControlName","driversLicence","multiple","",3,"disableOptionCentering"],["color","warn","mat-flat-button","","mat-dialog-close",""],["color","primary","mat-flat-button","",3,"disabled","click"],[3,"value"]],template:function(r,h){1&r&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"mat-dialog-content")(3,"form",1)(4,"mat-form-field",2)(5,"mat-label"),t._uU(6,"\u0406\u041d\u041d"),t.qZA(),t._UZ(7,"input",3),t.qZA(),t.TgZ(8,"mat-form-field",2)(9,"mat-label"),t._uU(10,"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435"),t.qZA(),t._UZ(11,"input",4),t.qZA(),t.TgZ(12,"mat-form-field",2)(13,"mat-label"),t._uU(14,"\u0406\u043c'\u044f"),t.qZA(),t._UZ(15,"input",5),t.qZA(),t.TgZ(16,"mat-form-field",2)(17,"mat-label"),t._uU(18,"\u041f\u043e-\u0431\u0430\u0442\u044c\u043a\u043e\u0432\u0456"),t.qZA(),t._UZ(19,"input",6),t.qZA(),t.TgZ(20,"mat-form-field",2)(21,"mat-label"),t._uU(22,"\u041e\u0441\u0432\u0456\u0442\u0430"),t.qZA(),t.TgZ(23,"mat-select",7),t.YNc(24,w,2,2,"mat-option",8),t.qZA()(),t.TgZ(25,"mat-form-field",2)(26,"mat-label"),t._uU(27,"\u0421\u0442\u0430\u0436 \u0440\u043e\u0431\u043e\u0442\u0438"),t.qZA(),t._UZ(28,"input",9),t.qZA(),t.TgZ(29,"mat-form-field",2)(30,"mat-label"),t._uU(31,"\u041f\u043e\u0441\u0432\u0456\u0434\u0447\u0435\u043d\u043d\u044f \u0432\u043e\u0434\u0456\u044f"),t.qZA(),t.TgZ(32,"mat-select",10),t.YNc(33,B,2,2,"mat-option",8),t.qZA()()()(),t.TgZ(34,"mat-dialog-actions")(35,"button",11),t._uU(36,"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438"),t.qZA(),t.TgZ(37,"button",12),t.NdJ("click",function(){return h.submit()}),t._uU(38,"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"),t.qZA()()),2&r&&(t.xp6(1),t.Oqu(h.title),t.xp6(2),t.Q6J("formGroup",h.userForm),t.xp6(20),t.Q6J("disableOptionCentering",!0),t.xp6(1),t.Q6J("ngForOf",h.degrees),t.xp6(8),t.Q6J("disableOptionCentering",!0),t.xp6(1),t.Q6J("ngForOf",h.licenseTypes),t.xp6(4),t.Q6J("disabled",h.userForm.invalid))},dependencies:[k.sg,n.lW,_.ZT,_.uh,_.xY,_.H8,f._Y,f.Fj,f.JJ,f.JL,f.sg,f.u,F.KE,F.hX,T.Nt,Y.gD,J.ey],styles:[".user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),a})();var M=p(5698),z=p(9300),P=p(4961),E=p(7392);function G(a,c){1&a&&(t.TgZ(0,"th",21),t._uU(1," \u2116"),t.qZA())}function $(a,c){if(1&a&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&a){const r=c.index;t.xp6(1),t.hij(" ",r+1," ")}}function W(a,c){1&a&&(t.TgZ(0,"th",21),t._uU(1," \u0406\u041d\u041d"),t.qZA())}function X(a,c){if(1&a&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&a){const r=c.$implicit;t.xp6(1),t.hij(" ",r.inn," ")}}function K(a,c){1&a&&(t.TgZ(0,"th",21),t._uU(1," \u0406\u043c'\u044f"),t.qZA())}function tt(a,c){if(1&a&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&a){const r=c.$implicit;t.xp6(1),t.hij(" ",r.firstName," ")}}function q(a,c){1&a&&(t.TgZ(0,"th",21),t._uU(1," \u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435"),t.qZA())}function I(a,c){if(1&a&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&a){const r=c.$implicit;t.xp6(1),t.hij(" ",r.lastName," ")}}function et(a,c){1&a&&(t.TgZ(0,"th",21),t._uU(1," \u041f\u043e-\u0431\u0430\u0442\u044c\u043a\u043e\u0432\u0456"),t.qZA())}function j(a,c){if(1&a&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&a){const r=c.$implicit;t.xp6(1),t.hij(" ",r.middleName," ")}}function it(a,c){1&a&&(t.TgZ(0,"th",21),t._uU(1," \u041e\u0441\u0432\u0456\u0442\u0430"),t.qZA())}function L(a,c){if(1&a&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&a){const r=c.$implicit;t.xp6(1),t.hij(" ",r.education," ")}}function R(a,c){1&a&&(t.TgZ(0,"th",21),t._uU(1," \u0421\u0442\u0430\u0442\u044c"),t.qZA())}function C(a,c){if(1&a&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&a){const r=c.$implicit;t.xp6(1),t.hij(" ",r.gender,"")}}function nt(a,c){1&a&&(t.TgZ(0,"th",21),t._uU(1," \u0421\u0442\u0430\u0436 \u0440\u043e\u0431\u043e\u0442\u0438"),t.qZA())}function x(a,c){if(1&a&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&a){const r=c.$implicit;t.xp6(1),t.hij(" ",r.experience,"")}}function ot(a,c){1&a&&(t.TgZ(0,"th",21),t._uU(1," \u0412\u043e\u0434\u0456\u0439\u0441\u044c\u043a\u0435 \u043f\u043e\u0441\u0432\u0456\u0434\u0447\u0435\u043d\u043d\u044f"),t.qZA())}function Z(a,c){if(1&a&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&a){const r=c.$implicit;t.xp6(1),t.hij(" ",r.driversLicence,"")}}function at(a,c){1&a&&t._UZ(0,"th",21)}function st(a,c){if(1&a){const r=t.EpF();t.TgZ(0,"td",22)(1,"button",23),t.NdJ("click",function(){const D=t.CHM(r).$implicit,y=t.oxw();return t.KtG(y.openUserEditDialog(D))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()()()}}function U(a,c){1&a&&t._UZ(0,"th",21)}function V(a,c){if(1&a){const r=t.EpF();t.TgZ(0,"td",22)(1,"button",24),t.NdJ("click",function(){const D=t.CHM(r).$implicit,y=t.oxw();return t.KtG(y.removeUser(D))}),t.TgZ(2,"mat-icon"),t._uU(3,"remove"),t.qZA()()()}}function H(a,c){1&a&&t._UZ(0,"tr",25)}function lt(a,c){1&a&&t._UZ(0,"tr",26)}var O=(()=>{return(a=O||(O={})).MIDDLE="\u0421\u0435\u0440\u0435\u0434\u043d\u044f",a.HIGHER="\u0412\u0438\u0449\u0430",a.PRELIMINARY="\u041f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u0430",O;var a})();let ut=(()=>{class a{constructor(r,h){this.dialog=r,this.userService=h,this.displayedColumns=["number","inn","firstName","lastName","middleName","education","experience","driversLicence","edit","remove"],this.dataSource=new g.by}ngOnInit(){this.userService.getUsers().subscribe({next:r=>{this.dataSource.data=r},error:r=>{console.log("error!",r)}})}removeUser(r){const h=this.dataSource.data.indexOf(r);this.dataSource.data.splice(h,1),this.dataSource._updateChangeSubscription()}openUserCreationDialog(){this.dialog.open(N,{width:"450px",data:{creation:!0}}).afterClosed().pipe((0,M.q)(1),(0,z.h)(h=>!!h)).subscribe(h=>{this.dataSource.data.push(h),this.dataSource.data=[...this.dataSource.data],console.log(h)})}openUserEditDialog(r){const h=this.dataSource.data.indexOf(r);this.dialog.open(N,{width:"450px",data:{creation:!1,user:r}}).afterClosed().pipe((0,M.q)(1),(0,z.h)(D=>!!D)).subscribe(D=>{D.inn=this.dataSource.data[h].inn,console.log(D),this.dataSource.data[h]=D,this.dataSource.data=[...this.dataSource.data]})}onFileSelected(r){const h=r.target?.files[0],A=new FormData;A.append("files",h,h.name),this.userService.uploadUsers(A).subscribe({next:D=>{D&&this.userService.getUsers().subscribe(y=>{this.dataSource.data=y})},error:D=>{console.log("error!",D)}})}}return a.\u0275fac=function(r){return new(r||a)(t.Y36(_.uw),t.Y36(P.f))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-users"]],decls:47,vars:3,consts:[[1,"upload-wrapper"],["type","file",1,"file-input",3,"change"],["fileUpload",""],["mat-raised-button","","color","primary",3,"click"],["mat-table","",1,"mat-elevation-z8","users-table",3,"dataSource"],["matColumnDef","number"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","inn"],["matColumnDef","firstName"],["matColumnDef","lastName"],["matColumnDef","middleName"],["matColumnDef","education"],["matColumnDef","gender"],["matColumnDef","experience"],["matColumnDef","driversLicence"],["matColumnDef","edit"],["matColumnDef","remove"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-flat-button","","color","primary",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(r,h){if(1&r){const A=t.EpF();t.TgZ(0,"h1"),t._uU(1,"\u041f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457"),t.qZA(),t.TgZ(2,"div",0)(3,"input",1,2),t.NdJ("change",function(y){return h.onFileSelected(y)}),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){t.CHM(A);const y=t.MAs(4);return t.KtG(y.click())}),t.TgZ(6,"mat-icon"),t._uU(7,"upload"),t.qZA(),t._uU(8," \u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0456\u0432 \u0437 \u0444\u0430\u0439\u043b\u0443 "),t.qZA()(),t.TgZ(9,"table",4),t.ynx(10,5),t.YNc(11,G,2,0,"th",6),t.YNc(12,$,2,1,"td",7),t.BQk(),t.ynx(13,8),t.YNc(14,W,2,0,"th",6),t.YNc(15,X,2,1,"td",7),t.BQk(),t.ynx(16,9),t.YNc(17,K,2,0,"th",6),t.YNc(18,tt,2,1,"td",7),t.BQk(),t.ynx(19,10),t.YNc(20,q,2,0,"th",6),t.YNc(21,I,2,1,"td",7),t.BQk(),t.ynx(22,11),t.YNc(23,et,2,0,"th",6),t.YNc(24,j,2,1,"td",7),t.BQk(),t.ynx(25,12),t.YNc(26,it,2,0,"th",6),t.YNc(27,L,2,1,"td",7),t.BQk(),t.ynx(28,13),t.YNc(29,R,2,0,"th",6),t.YNc(30,C,2,1,"td",7),t.BQk(),t.ynx(31,14),t.YNc(32,nt,2,0,"th",6),t.YNc(33,x,2,1,"td",7),t.BQk(),t.ynx(34,15),t.YNc(35,ot,2,0,"th",6),t.YNc(36,Z,2,1,"td",7),t.BQk(),t.ynx(37,16),t.YNc(38,at,1,0,"th",6),t.YNc(39,st,4,0,"td",7),t.BQk(),t.ynx(40,17),t.YNc(41,U,1,0,"th",6),t.YNc(42,V,4,0,"td",7),t.BQk(),t.YNc(43,H,1,0,"tr",18),t.YNc(44,lt,1,0,"tr",19),t.qZA(),t.TgZ(45,"button",20),t.NdJ("click",function(){return h.openUserCreationDialog()}),t._uU(46,"\u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u0440\u0430\u0446\u0456\u0432\u043d\u0438\u043a\u0430"),t.qZA()}2&r&&(t.xp6(9),t.Q6J("dataSource",h.dataSource),t.xp6(34),t.Q6J("matHeaderRowDef",h.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",h.displayedColumns))},dependencies:[g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk,n.lW,E.Hw],styles:[".users-table[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.mat-column-edit[_ngcontent-%COMP%], .mat-column-remove[_ngcontent-%COMP%]{width:60px}.mat-column-driverLicense[_ngcontent-%COMP%]{width:150px}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{text-align:center}.upload-wrapper[_ngcontent-%COMP%]{display:inline-block;margin-bottom:20px}.upload-wrapper[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{display:none}"]}),a})()},5412:(ht,Q,p)=>{p.d(Q,{WI:()=>H,uw:()=>h,H8:()=>mt,ZT:()=>D,xY:()=>pt,Is:()=>ft,so:()=>U,uh:()=>y});var g=p(2687),_=p(8184),f=p(3353),t=p(4080),k=p(6895),n=p(4650),F=p(9521),T=p(7579),Y=p(9770),J=p(9646),w=p(445),B=p(8675);function N(o,l){}class M{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let P=(()=>{class o extends t.en{constructor(e,i,s,u,m,d,v,b){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=u,this._interactivityChecker=m,this._ngZone=d,this._overlayRef=v,this._focusMonitor=b,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=S=>{this._portalOutlet.hasAttached();const dt=this._portalOutlet.attachDomPortal(S);return this._contentAttached(),dt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=s}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{e.removeEventListener("blur",s),e.removeEventListener("mousedown",s),e.removeAttribute("tabindex")};e.addEventListener("blur",s),e.addEventListener("mousedown",s)})),e.focus(i)}_focusByCssSelector(e,i){let s=this._elementRef.nativeElement.querySelector(e);s&&this._forceFocus(s,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const s=(0,f.ht)(),u=this._elementRef.nativeElement;(!s||s===this._document.body||s===u||u.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=(0,f.ht)();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,f.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(n.SBq),n.Y36(g.qV),n.Y36(k.K0,8),n.Y36(M),n.Y36(g.ic),n.Y36(n.R0b),n.Y36(_.Iu),n.Y36(g.tE))},o.\u0275cmp=n.Xpm({type:o,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&n.Gf(t.Pl,7),2&e){let s;n.iGM(s=n.CRH())&&(i._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&n.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[n.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&n.YNc(0,N,0,0,"ng-template",0)},dependencies:[t.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),o})();class E{constructor(l,e){this.overlayRef=l,this.config=e,this.closed=new T.x,this.disableClose=e.disableClose,this.backdropClick=l.backdropClick(),this.keydownEvents=l.keydownEvents(),this.outsidePointerEvents=l.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===F.hY&&!this.disableClose&&!(0,F.Vb)(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(l,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(l),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(l="",e=""){return this.overlayRef.updateSize({width:l,height:e}),this}addPanelClass(l){return this.overlayRef.addPanelClass(l),this}removePanelClass(l){return this.overlayRef.removePanelClass(l),this}}const G=new n.OlP("DialogScrollStrategy"),$=new n.OlP("DialogData"),W=new n.OlP("DefaultDialogConfig"),K={provide:G,deps:[_.aV],useFactory:function X(o){return()=>o.scrollStrategies.block()}};let tt=0,q=(()=>{class o{constructor(e,i,s,u,m,d){this._overlay=e,this._injector=i,this._defaultOptions=s,this._parentDialog=u,this._overlayContainer=m,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new T.x,this._afterOpenedAtThisLevel=new T.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Y.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,B.O)(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new M,...i}).id=i.id||"cdk-dialog-"+tt++,i.id&&this.getDialogById(i.id);const u=this._getOverlayConfig(i),m=this._overlay.create(u),d=new E(m,i),v=this._attachContainer(m,d,i);return d.containerInstance=v,this._attachDialogContent(e,d,v,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){I(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){I(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),I(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new _.X_({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,s){const u=s.injector||s.viewContainerRef?.injector,m=[{provide:M,useValue:s},{provide:E,useValue:i},{provide:_.Iu,useValue:e}];let d;s.container?"function"==typeof s.container?d=s.container:(d=s.container.type,m.push(...s.container.providers(s))):d=P;const v=new t.C5(d,s.viewContainerRef,n.zs3.create({parent:u||this._injector,providers:m}),s.componentFactoryResolver);return e.attach(v).instance}_attachDialogContent(e,i,s,u){if(e instanceof n.Rgc){const m=this._createInjector(u,i,s,void 0);let d={$implicit:u.data,dialogRef:i};u.templateContext&&(d={...d,..."function"==typeof u.templateContext?u.templateContext():u.templateContext}),s.attachTemplatePortal(new t.UE(e,null,d,m))}else{const m=this._createInjector(u,i,s,this._injector),d=s.attachComponentPortal(new t.C5(e,u.viewContainerRef,m,u.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(e,i,s,u){const m=e.injector||e.viewContainerRef?.injector,d=[{provide:$,useValue:e.data},{provide:E,useValue:i}];return e.providers&&("function"==typeof e.providers?d.push(...e.providers(i,e,s)):d.push(...e.providers)),e.direction&&(!m||!m.get(w.Is,null,n.XFs.Optional))&&d.push({provide:w.Is,useValue:{value:e.direction,change:(0,J.of)()}}),n.zs3.create({parent:m||u,providers:d})}_removeOpenDialog(e,i){const s=this.openDialogs.indexOf(e);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((u,m)=>{u?m.setAttribute("aria-hidden",u):m.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let s=i.length-1;s>-1;s--){const u=i[s];u!==e&&"SCRIPT"!==u.nodeName&&"STYLE"!==u.nodeName&&!u.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(u,u.getAttribute("aria-hidden")),u.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return o.\u0275fac=function(e){return new(e||o)(n.LFG(_.aV),n.LFG(n.zs3),n.LFG(W,8),n.LFG(o,12),n.LFG(_.Xj),n.LFG(G))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac}),o})();function I(o,l){let e=o.length;for(;e--;)l(o[e])}let et=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({providers:[q,K],imports:[_.U8,t.eL,g.rt,t.eL]}),o})();var j=p(3238),it=p(6451),L=p(9300),R=p(5698),C=p(7340);function nt(o,l){}const x={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},ot={dialogContainer:(0,C.X$)("dialogContainer",[(0,C.SB)("void, exit",(0,C.oB)({opacity:0,transform:"scale(0.7)"})),(0,C.SB)("enter",(0,C.oB)({transform:"none"})),(0,C.eR)("* => enter",(0,C.ru)([(0,C.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,C.oB)({transform:"none",opacity:1})),(0,C.IO)("@*",(0,C.pV)(),{optional:!0})]),x),(0,C.eR)("* => void, * => exit",(0,C.ru)([(0,C.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,C.oB)({opacity:0})),(0,C.IO)("@*",(0,C.pV)(),{optional:!0})]),x)])};class Z{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=x.params.enterAnimationDuration,this.exitAnimationDuration=x.params.exitAnimationDuration}}let at=(()=>{class o extends P{constructor(e,i,s,u,m,d,v,b){super(e,i,s,u,m,d,v,b),this._animationStateChanged=new n.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(n.SBq),n.Y36(g.qV),n.Y36(k.K0,8),n.Y36(Z),n.Y36(g.ic),n.Y36(n.R0b),n.Y36(_.Iu),n.Y36(g.tE))},o.\u0275cmp=n.Xpm({type:o,selectors:[["ng-component"]],features:[n.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),o})(),st=(()=>{class o extends at{constructor(e,i,s,u,m,d,v,b,S){super(e,i,s,u,m,d,v,S),this._changeDetectorRef=b,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||x.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||x.params.exitAnimationDuration}}}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(n.SBq),n.Y36(g.qV),n.Y36(k.K0,8),n.Y36(Z),n.Y36(g.ic),n.Y36(n.R0b),n.Y36(_.Iu),n.Y36(n.sBO),n.Y36(g.tE))},o.\u0275cmp=n.Xpm({type:o,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&n.WFA("@dialogContainer.start",function(u){return i._onAnimationStart(u)})("@dialogContainer.done",function(u){return i._onAnimationDone(u)}),2&e&&(n.Ikx("id",i._config.id),n.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),n.d8E("@dialogContainer",i._getAnimationState()))},features:[n.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&n.YNc(0,nt,0,0,"ng-template",0)},dependencies:[t.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[ot.dialogContainer]}}),o})();class U{constructor(l,e,i){this._ref=l,this._containerInstance=i,this._afterOpened=new T.x,this._beforeClosed=new T.x,this._state=0,this.disableClose=e.disableClose,this.id=l.id,i._animationStateChanged.pipe((0,L.h)(s=>"opened"===s.state),(0,R.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe((0,L.h)(s=>"closed"===s.state),(0,R.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),l.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,it.T)(this.backdropClick(),this.keydownEvents().pipe((0,L.h)(s=>s.keyCode===F.hY&&!this.disableClose&&!(0,F.Vb)(s)))).subscribe(s=>{this.disableClose||(s.preventDefault(),V(this,"keydown"===s.type?"keyboard":"mouse"))})}close(l){this._result=l,this._containerInstance._animationStateChanged.pipe((0,L.h)(e=>"closing"===e.state),(0,R.q)(1)).subscribe(e=>{this._beforeClosed.next(l),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(l){let e=this._ref.config.positionStrategy;return l&&(l.left||l.right)?l.left?e.left(l.left):e.right(l.right):e.centerHorizontally(),l&&(l.top||l.bottom)?l.top?e.top(l.top):e.bottom(l.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(l="",e=""){return this._ref.updateSize(l,e),this}addPanelClass(l){return this._ref.addPanelClass(l),this}removePanelClass(l){return this._ref.removePanelClass(l),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function V(o,l,e){return o._closeInteractionType=l,o.close(e)}const H=new n.OlP("MatDialogData"),lt=new n.OlP("mat-dialog-default-options"),rt=new n.OlP("mat-dialog-scroll-strategy"),a={provide:rt,deps:[_.aV],useFactory:function ut(o){return()=>o.scrollStrategies.block()}};let c=0,r=(()=>{class o{constructor(e,i,s,u,m,d,v,b,S,dt){this._overlay=e,this._defaultOptions=s,this._parentDialog=u,this._dialogRefConstructor=v,this._dialogContainerType=b,this._dialogDataToken=S,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new T.x,this._afterOpenedAtThisLevel=new T.x,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,Y.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,B.O)(void 0))),this._scrollStrategy=d,this._dialog=i.get(q)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let s;(i={...this._defaultOptions||new Z,...i}).id=i.id||`${this._idPrefix}${c++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const u=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:Z,useValue:i},{provide:M,useValue:i}]},templateContext:()=>({dialogRef:s}),providers:(m,d,v)=>(s=new this._dialogRefConstructor(m,i,v),s.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:v},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:s}])});return s.componentInstance=u.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{const m=this.openDialogs.indexOf(s);m>-1&&(this.openDialogs.splice(m,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return o.\u0275fac=function(e){n.$Z()},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac}),o})(),h=(()=>{class o extends r{constructor(e,i,s,u,m,d,v,b){super(e,i,u,d,v,m,U,st,H,b)}}return o.\u0275fac=function(e){return new(e||o)(n.LFG(_.aV),n.LFG(n.zs3),n.LFG(k.Ye,8),n.LFG(lt,8),n.LFG(rt),n.LFG(o,12),n.LFG(_.Xj),n.LFG(n.QbO,8))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac}),o})(),A=0,D=(()=>{class o{constructor(e,i,s){this.dialogRef=e,this._elementRef=i,this._dialog=s,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=ct(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){V(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(U,8),n.Y36(n.SBq),n.Y36(h))},o.\u0275dir=n.lG2({type:o,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&n.NdJ("click",function(u){return i._onButtonClick(u)}),2&e&&n.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[n.TTD]}),o})(),y=(()=>{class o{constructor(e,i,s){this._dialogRef=e,this._elementRef=i,this._dialog=s,this.id="mat-dialog-title-"+A++}ngOnInit(){this._dialogRef||(this._dialogRef=ct(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(U,8),n.Y36(n.SBq),n.Y36(h))},o.\u0275dir=n.lG2({type:o,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&n.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),o})(),pt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=n.lG2({type:o,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),o})(),mt=(()=>{class o{constructor(){this.align="start"}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=n.lG2({type:o,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&n.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),o})();function ct(o,l){let e=o.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?l.find(i=>i.id===e.id):null}let ft=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({providers:[h,a],imports:[et,_.U8,t.eL,j.BQ,j.BQ]}),o})()}}]);